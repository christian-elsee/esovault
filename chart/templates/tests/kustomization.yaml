apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
metadata:
  name: tests
sortOptions:
  order: fifo
commonAnnotations:
  "helm.sh/hook": test
  "helm.sh/hook-delete-policy": before-hook-creation,hook-succeeded,hook-failed

commonLabels:
  app.kubernetes.io/name: "{{ .Values.name }}-test"
  app.kubernetes.io/version: "{{ .Values.checksum }}"
  app.kubernetes.io/instance: "{{ .Values.name }}-{{ .Values.checksum }}"
  app.kubernetes.io/part-of: "{{ .Values.name }}"

resources:
- namespace.esovault-test.yaml
- pod.test-env-from-secret.yaml
- clusterexternalsecret.checksum.yaml

